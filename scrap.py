import requests, time
from selenium import webdriver
from selenium.webdriver.common.by import By

options = webdriver.ChromeOptions() 
options.add_argument("start-maximized")

driver = webdriver.Chrome()
url = "https://www.sahibinden.com/ilan/emlak-konut-satilik-zaman-yapi-dan-kelepir-2-plus1-kacmaz-daire-1169129716/detay"
driver.get(url)

html = driver.page_source
while "cHash" not in html:
    time.sleep(0.5)
    html = driver.page_source
open('sahibinden.html', 'w').write(html)
#driver.find_element(By.XPATH, "//button[@class='btn btn-primary']").click()
#js_code = driver.find_element(By.TAG_NAME, 'script').get_attribute('innerHTML')

#cloudflare_js_code = js_code.replace('<!--', '').replace('-->', '')
js_challenge = driver.execute_script("""(function(){window._cf_chl_opt={cvId: '3',cZone: "www.sahibinden.com",cType: 'interactive',cNounce: '70916',cRay: '87b257a90a4b18e2',cHash: 'bfa4497af1cb0d0',cUPMDTk: "\/ilan\/emlak-konut-satilik-zaman-yapi-dan-kelepir-2-plus1-kacmaz-daire-1169129716\/detay?__cf_chl_tk=xCCKXvTYy5oaUhg8973f1hM1je8fD1jafhjW2kvvJbI-1714257921-0.0.1.1-1514",cFPWv: 'b',cTTimeMs: '1000',cMTimeMs: '375000',cTplV: 5,cTplB: 'cf',cK: "visitor-time",fa: "\/ilan\/emlak-konut-satilik-zaman-yapi-dan-kelepir-2-plus1-kacmaz-daire-1169129716\/detay?__cf_chl_f_tk=xCCKXvTYy5oaUhg8973f1hM1je8fD1jafhjW2kvvJbI-1714257921-0.0.1.1-1514",md: "iZdeDVoe8uvAuzfCNIJhCGiPCxzsu9KdVIbuHxzO43s-1714257921-1.1.1.1-W.pLDJe58X1D5MHD0BQEJwaEoO7R377mV8emvUjIJmF8lm2fJVYi1lsPT5rnX6Q63HhdZOuMoF5dnTS9BHJfeDZEkdhp5MUulIhZ65rqw6ruerwusbcS7pcmzjVOiswbO3EaJHo5Al1sRRA7q9CbSjaSD2cPI0IrGnKFc85IeYYupYxpiveS4xk3JJ5eDhx6S8CNngYv1Fj2YollcK1jdozageo2gUnb0_jH1kcwvfivuL7zvkppOHRmvPcq3AIl46l1.QRIDUQGHGNMvriAfbR26CWKRggQe4s9dxurGetN6r0b.RuxP3y5lZl0NzFgP9uvS1XdpqOL39Y1VDqE7LH7iK4XTsAA0JNqhz8TI0DLERoxF4dk3i5Kqh9MtsnLiVUK_hyNH93BeUMyjcPBEIyDW9h9Mqa0TVWElSD9RHvHMn0LPu8hVKrMAuT3Tgt3jPzlAmlVjkANusMBmmdBm683EEkQrfou_q1.NZNtm6oyhAos0VYLov4ntmiBpnRH.SeLXZcwflIOI9k.5y6F.tEa..Pm2aFWGTOlFMSdKVTf_bdzhf1yMcyI8eDLwjJQswJ9CyDhIT4_74_BpgrbZNDJsQ9N69fG4WO39kkQHV8xBaIaupqXQVNZmLF6LKZrMC_aLTVP.UdwJBCfEhMVtjv8V4SAdZP.zL8b9e0D3kwn.pluzeArZ9ROhzf5aHIvNjjcRPjyQ_rEhVmxqLVhINeP66gfKRHe2c9NcSUuCqBijqnEhLx5jphZRUmkckrOuY1liMkQSdyjeWHUK34T1atD0FAE7NYluy.jqAlg05p9qBN_BNwlC8s1H6L19PUpiUyZ6JJWVGBpVuV0bYPrEh66a6hUrXsnFvJDANiT9z8blaucHaAMMLX0ZE49Jer.DhaksXDoj9cuiA.8XGOgZ6kZpvK7ZJusym4dpdDshRcSdfYkpyHgAcsjvGFCtxUMCZEJnoWbDsFHiq2koZ4jxA4fLB75_AlNWsiN_l2PFM_ujezv5R_kRhjDfjWBn5RO05jL5lSg__WOv2XInvwGAnoHHiVbiXic8U3aKSHH5uwzGu3i6WcyX0HfaejbSGwvmV1LEfrnuKdKK4mDdzicle4wymNo3iaiN_gyMv6Fbt3OxkKOoXFdXUM3YCQImQDmVC8aSk6V36PHNkok0cUOe.RKDqlxNnhv4bCuM1KfncXhYUimBAO8dc50lRwZ.Ap9AKETmK7KOERGOztM1qeYV79Ry2ixXb5BNsy6nZCQIt_pL.cwflo8ZCakLPW8NO7RRrOYSkfsgymA6zSsdEHsQCdOxJ75qrgZFJzbeBknIWEYMqgpkbMf1rtxM61qCoCiM6MBXBILKGaot8EwoAN0P_M8tLUuSkqM5dER8JgvKB4wnwylbGlL5apNoqoFJkoAcyxeAGGZru_iNvMygC95KFlhtFC7pF0_IwKN9X.7f0k",mdrd: "YMY_1ODGfQaZjGuHiD3VzWm9sFy8AOVp34nPrG_.Sgg-1714257921-1.1.1.1-z.SC6.2jpzHUys50bTZFWNoCjPOr_6xUWpw_.wZ8_YbEOdZ6OLnAj5mo5YtJ_9LHyF9XIuOkE7682p1ebr_qEbNbr67PGREyce74kQC4cYKzyxyqx_hCDdBJICwOG6n_yCGrxKL3oFE35j_g5xLpWvc2tvPTOeSdxs3qcWIVxjtsfXBPvsxPrCxyN7F51UnlVi1fl2Y.nrvTjEOG5DNNXytl3rAoXCJ_PBJiw8jBUzJDOi2k7VT754EojSoRTMoVrLYIdlgvVkRE3aYHcdxjQZsBxEgoLXWbhrIDeU689UOF8b29QIPRIsIVEE4tuSbihCo.BJGOawewZbrMmxdRN.fNz6p09s3lcQDbZ7jcAAraS7pszXHr6KCQE6q6ZSJ1r1oa07Jjo6E0JEgR8n3hDoEcS5x04HSwgNw6grAnWOjuz07fxAo3eG8zgWtxbhZnhaGDxfdC0sDNWxOQyiRZz9_39AxRHK45yce_LPIEkqgAs9PtMr1v.JUaA0_s5vA3cu8Ph81d9Ryt9nS9LhYekc31T0ZZ6qmUZRDHj.Q8HFYzmQOnS61q.WkE7no6lZcsZoaNFuiT4JkI.AWcufKpITZOrUrMkOm1is.3.jSFoLmD.LzYTQJIeOc0HjCWrvzKGZtK48GL3bZdMI4SU96i30EuBtRsetg_TKT5Cof3O5fiw0ExrXSDSlyU4lsT874Ug7Ns3NLMmMvTtEwy6Wh0llr2GaSm0Wd1DAumV52uz5._MXhuvyT5Hw7fcWjhHvh0MrGCD8hP4t6tncSzyvSvZOY7iZ5muNd8EV.ZQW_1Vxx5s_WTKPwJQwd7cEeVSa.qfamjnEjKZ687bR_cynqMt82S3NAx4WVgfOHE_l2xWlNNcxZ2zTtDHAWoSXVS_kLMeB8T6x9Dh_ZvCJ9xw1DjHotH2wSlEVhWPUwkYFZLPFDsk68y9hCWD.Mv1CU6MDJqZoXfg_uHI_sSflLazUIfkV8Eu7J5lzWA0I7B_NII9DjI8m9Lv12gYoY9juRt4TFUOAtHgo.AHIMpPOG2xaofpPpGu_VYnY8TjYFDu8R6mgs61ixsr108veJzyDc6WDnYWKvKshnoxFu9w_U46w56oiThhp2g51JrqKH0MWaVzDXH1lxXIdPJopIL5GLVzMYmZs6o8qoWmXGtLAlAc9X.Y.6tR1xUUr8twtSzDCVCF9sbbu91rsmyz69NEGtVYgZtvqOcj4QntnmFJCav7vOSfGdijhlIEKLz_..iKrxehtDPFEGDA89mN.0WLZJ9Fqs8g7wq5Umqd_iNwTw0Fy1OZY7VCUdhyripewYdzYnU2s3E6ciWb67hiq71UDst.EXWOZ.u0E5oBNVplSOSWSYEeRyE.5rxC28UZhZO2uLGxBKiScY3URits6.ARfd41sa05rOJZDMatJCcJcIWc36v6foz3Ko0N1AxJ14EZWz7XM6psGGvQGzX4_1dIz1e11l4z43iciMtStV1InV42x6bPRZ8Urr897H2mbmlayIz4w5uKTQFlzxb3sSLsJkwEq6Aa18nc4vDqinTFTBjs627l6m76BQJ82tLPeQUWGScMzArF0N4PTWL18JN_yfYtxoXHrDhYdJBbJC_BYnEJXkLrPXnd9PBZu8v6Sqz7VO50OUfagV0GjRqaFrVxctImdq6TtEfhyyRDuRWx9x9Vad.6oBx3Swj21tstbv7LpOspkUBiEJSZ49fDn25XHWaKO.SFwD9JGPokas37oyZ.HDDDyPtvH9uY0yxzcyRczgC8dT13wzNHHRl5T_ryHir3y1IdGOw.m1kTCayQhqd3gNRPEUHUCKWFqyfyKrCsTJSiajhAhYmuAM2cjToSc.G_xT1MVWOXE9A8n1fLoBnAQaZmkcN2ZqL3YXnKf812u9g3huFF5DTlDvQYHZS6PBGJkuvfYap71CM8phYu3JF0APapc5sQYHPu_AmKL3KF.1opj7aAWoOOgIAbkN7GW3fRoAL8alSzOamO_5w2SKa.8vb5u9y7RuEwX6StKbtye_sVHmwn8iT.26qNRHaeNmxJCQ_78c6wY_Y6dPpShDvta.B8t.bBkKuvzqaI6f5f8sF9r43IlNf8BhwPSvgAXZg3LELRxFIQHpzyru4XdycoFv93FxfLMowkD6dwSAlBmp0tDrJAm3zLzi3YaqDGK.SXvISmXLiFgrypm3Dvht1JGjbJde_x7igrXzRcm5qxArmV935yyg17C9Vab1izDMIOoWzpdsaGBUXQ7aWv2O8Il3av85l7Td4f1khQiNjr6z8Df0YGdM7Q.Wnuu4qjaEID_qsTgWTSSqoENnkW1tgnYQf_Umw1U5RBuoh7M6Iz_xbbuPY3ttUE.Md8FV_Ugz20sz0hITMhr.pVIcmryuPflXA.a1ZRe_EbRgEEwS.AyO0B5UPPtT1_jqZ3X2MWT.xQfdYRvkYEIUSyI6N1NvsMJhqR4xUaELKTbi97YMxPLENGO66X41zffhW_Qiro25CJpVCbGNyk28VusQhRpji4viciFv7jZiemBXV5WNzE2X_Pd44BBdazlIi945_o4hEWnyn2n_3xBiZFW9CcDr5F6oUyG69WfnMT5etXIK023bj3V4",cRq: {ru: 'aHR0cHM6Ly93d3cuc2FoaWJpbmRlbi5jb20vaWxhbi9lbWxhay1rb251dC1zYXRpbGlrLXphbWFuLXlhcGktZGFuLWtlbGVwaXItMi1wbHVzMS1rYWNtYXotZGFpcmUtMTE2OTEyOTcxNi9kZXRheQ==',ra: 'TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzEyNC4wLjAuMCBTYWZhcmkvNTM3LjM2',rm: 'R0VU',d: 'feKV4BejQFsyG2iAfMlKLd84ZJYdB4pN/Eu1DydxMPIeoB7XyTFAxOYGFLHTC+uOjZrUB6anJUIg+ZDpMOkexoLB9ru2a7L2UwnIKK9voU0wfP62QuAmi/Rs2fXHIhcAeErGGcPWySASRWPOh5yZDKx8yv6ABtmqBAnmndf1mX3nlIqnkUdU2x62+1eWEpv8dLyrNPZh4Aqeuft+u9sSCqM01jsX1gu6dotM9my8es86g05iaDMao91FGKS529wcCsgKaU/X6PjBU9fJeiff45DX33vm7XydC2Htzj42UYXRINxsWWuGPPUAqb4oAmy7sLVL8ZVEJKFMTIRjgITL/lS0Z3VhYpsZB/ROsu/yOLCdfyWccetLb5XzWCHFtsIjKinUzPZcveABWncmj7ebK0XjOHCMIJ533JPoGjDD4Q+VhFV4zrpKo4yO8gMzpXnMZPuAFZnWd8lT9j7BqB375XKMvJgYR2KM9q7PZ2W2DJ7OcYSP6zEVaVMq8c1CnCt2ivjS4KRRe5sC6L668JjNC6ZvFF3Wc4+6Qi+1KUblxpqKO0wNnlTN1SX02iGfwuZofrcw/hcBstT44p+me8mxfD0XiY3jLomR6oeW3r2FNPM=',t: 'MTcxNDI1NzkyMS40NDQwMDA=',cT: Math.floor(Date.now() / 1000),m: '1UBI+w+BE5B2ixGv56HwnCmtnS8KwRJsOYb0BTmCvPw=',i1: 'bRQXU+/vXZkkG8IGq0l1Lw==',i2: 'cYQxFffyN7vjFrwmGwAHYA==',zh: 'v2+8KSNH0lglqUFKXt4gYWG+lIPW8OpJmg6Pz9wDBYE=',uh: '7G+/s/3hSjn6lt4uBj+M/Of0vVSbo59I9kTwZOWts/E=',hh: '2WfoIsEmq9DUr6aUYoDQdecyAWvH7XLQPjOuey2sHzg=',}};var cpo = document.createElement('script');cpo.src = '/cdn-cgi/challenge-platform/h/b/orchestrate/chl_page/v1?ray=87b257a90a4b18e2';window._cf_chl_opt.cOgUHash = location.hash === '' && location.href.indexOf('#') !== -1 ? '#' : location.hash;window._cf_chl_opt.cOgUQuery = location.search === '' && location.href.slice(0, location.href.length - window._cf_chl_opt.cOgUHash.length).indexOf('?') !== -1 ? '?' : location.search;if (window.history && window.history.replaceState) {var ogU = location.pathname + window._cf_chl_opt.cOgUQuery + window._cf_chl_opt.cOgUHash;history.replaceState(null, null, "\/ilan\/emlak-konut-satilik-zaman-yapi-dan-kelepir-2-plus1-kacmaz-daire-1169129716\/detay?__cf_chl_rt_tk=xCCKXvTYy5oaUhg8973f1hM1je8fD1jafhjW2kvvJbI-1714257921-0.0.1.1-1514" + window._cf_chl_opt.cOgUHash);cpo.onload = function() {history.replaceState(null, null, ogU);}}document.getElementsByTagName('head')[0].appendChild(cpo);}());""")
while "Cloudflare" in driver.page_source:
    time.sleep(0.5)  
html = driver.page_source

driver.quit()
